import React, { useState, useEffect } from 'react';
import { Play, Download, Search, Star, Calendar, Clock, Users, Check, Zap, Shield } from 'lucide-react';

export default function LFRCommercial() {
  
  useEffect(() => {
    const style = document.createElement('style');
    style.textContent = `
      /* fundo geral */
      body {
        margin: 0;
        font-family: system-ui, Arial, sans-serif;
        background: #000;
        color: #fff;
      }

      /* HERO */
      #hero {
        position: relative;
        background: url('5166005707970031167 (1).jpg') center/cover no-repeat;
      }
      #hero::before {
        content: "";
        position: absolute;
        inset: 0;
        background: rgba(0,0,0,0.35);
      }
      #hero > * {
        position: relative;
        z-index: 1;
      }

      /* CAT√ÅLOGO */
      #catalogo {
        position: relative;
        background: url('5166005707970031167 (1).jpg') center/cover no-repeat;
      }
      #catalogo::before {
        content: "";
        position: absolute;
        inset: 0;
        background: rgba(0,0,0,0.55);
      }
      #catalogo > * {
        position: relative;
        z-index: 1;
      }

      /* PAGAMENTO */
      #pagamento {
        position: relative;
        background: url('5166005707970031167 (1).jpg') center/cover no-repeat;
      }
      #pagamento::before {
        content: "";
        position: absolute;
        inset: 0;
        background: rgba(0,0,0,0.65);
      }
      #pagamento > * {
        position: relative;
        z-index: 1;
      }

      /* FOOTER */
      footer {
        position: relative;
        background: url('5166005707970031167 (1).jpg') center/cover no-repeat;
      }
      footer::before {
        content: "";
        position: absolute;
        inset: 0;
        background: rgba(0,0,0,0.75);
      }
      footer > * {
        position: relative;
        z-index: 1;
      }
    `;
    document.head.appendChild(style);
    
    return () => {
      document.head.removeChild(style);
    };
  }, []);
  
  useEffect(() => {
    // Rolagem suave para os links de navega√ß√£o
    document.querySelectorAll('a[href^="#"]').forEach(link => {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        const target = document.querySelector(this.getAttribute('href'));
        if (target) {
          target.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
      });
    });

    // Filtro de busca no cat√°logo
    const searchInput = document.querySelector('header input[type="text"]');
    const filmes = document.querySelectorAll('#catalogo .filme');
    if (searchInput) {
      searchInput.addEventListener('input', () => {
        const termo = searchInput.value.toLowerCase();
        filmes.forEach(filme => {
          const titulo = filme.querySelector('.titulo').textContent.toLowerCase();
          filme.style.display = titulo.includes(termo) ? 'block' : 'none';
        });
      });
    }

    // Copiar chave PIX ao clicar
    const chavePix = document.querySelector('#pagamento .pix');
    if (chavePix) {
      chavePix.addEventListener('click', () => {
        navigator.clipboard.writeText(chavePix.textContent.trim())
          .then(() => alert("Chave PIX copiada!"))
          .catch(err => console.error("Erro ao copiar PIX:", err));
      });
    }
  }, []);
  const [selectedTab, setSelectedTab] = useState('home');
  const [selectedCategory, setSelectedCategory] = useState('filmes');


  const handlePlay = (item) => {
    console.log('Abrindo preview para:', item.title);
    
    // Remove modal existente se houver
    const existingModal = document.getElementById('modalPreview');
    if (existingModal) {
      existingModal.remove();
    }
    
    // Criar modal HTML simples baseado no seu c√≥digo
    const modalHTML = `
      <div id="modalPreview" class="modal" style="
        display: block;
        position: fixed;
        z-index: 10000;
        left: 0; top: 0;
        width: 100%; height: 100%;
        background: rgba(0,0,0,0.8);
      ">
        <div class="modal-content" style="
          background: #1e1e2d;
          color: #fff;
          margin: 5% auto;
          padding: 20px;
          border-radius: 12px;
          width: 500px;
          max-width: 90%;
          text-align: center;
          box-shadow: 0 0 20px rgba(0,0,0,0.6);
          animation: fadeIn 0.3s ease;
          position: relative;
        ">
          <span class="close" style="
            float: right;
            font-size: 26px;
            font-weight: bold;
            cursor: pointer;
            color: white;
          ">&times;</span>
      
          <h2 style="margin-bottom: 20px;">üé¨ ${item.title}</h2>
          <div class="preview-box" style="
            background: #111;
            padding: 20px;
            margin: 15px 0;
            border-radius: 10px;
          ">
            <div class="video-simulation" style="
              background: #000;
              padding: 40px;
              border-radius: 8px;
              margin-bottom: 10px;
              font-size: 18px;
            ">
              ‚ñ∂ Preview Dispon√≠vel
            </div>
            <p>Vers√£o completa mediante pagamento</p>
          </div>
      
          <h3 style="margin-bottom: 15px;">üí∞ Como Adquirir:</h3>
          <div class="payment-options" style="
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
            gap: 10px;
          ">
            <div class="option" style="
              background: #2a2a40;
              padding: 12px;
              border-radius: 8px;
              font-size: 14px;
              flex: 1;
            ">
              <b>PIX Instant√¢neo</b><br>
              <small style="font-size: 11px; word-break: break-all;">1c814ae7-453e-470d-a9b4-9b26f1589d1a</small><br>
              Valor: ${item.price}
            </div>
            <div class="option" style="
              background: #2a2a40;
              padding: 12px;
              border-radius: 8px;
              font-size: 14px;
              flex: 1;
            ">
              <b>Email</b><br>
              loritos.film.hub@gmail.com<br>
              <small>Atendimento 24h</small>
            </div>
          </div>
      
          <div class="actions" style="
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
            gap: 10px;
          ">
            <button class="close-btn" style="
              background: #555;
              border: none;
              padding: 10px 20px;
              border-radius: 6px;
              cursor: pointer;
              color: white;
              flex: 1;
            ">Fechar</button>
            <a href="mailto:loritos.film.hub@gmail.com?subject=Pedido: ${item.title}&body=Ol√°! Gostaria de adquirir: ${item.title} por ${item.price}" class="buy-btn" style="
              background: #28a745;
              border: none;
              padding: 10px 20px;
              border-radius: 6px;
              cursor: pointer;
              color: white;
              text-decoration: none;
              display: block;
              flex: 1;
              text-align: center;
            ">Comprar por Email</a>
          </div>
        </div>
      </div>
    `;
    
    // Adicionar CSS para anima√ß√£o
    const style = document.createElement('style');
    style.innerHTML = `
      @keyframes fadeIn {
        from { opacity: 0; transform: scale(0.95); }
        to { opacity: 1; transform: scale(1); }
      }
    `;
    document.head.appendChild(style);
    
    // Inserir modal no body
    document.body.insertAdjacentHTML('beforeend', modalHTML);
    
    // Configurar eventos de fechamento
    const modal = document.getElementById('modalPreview');
    const closeBtn = modal.querySelector('.close');
    const closeBtnBottom = modal.querySelector('.close-btn');
    
    const closeModal = () => {
      modal.remove();
    };
    
    closeBtn.onclick = closeModal;
    closeBtnBottom.onclick = closeModal;
    
    // Fechar clicando fora
    modal.onclick = (e) => {
      if (e.target === modal) {
        closeModal();
      }
    };
  };

  const handleDownload = (item) => {
    // Download realista
    const blob = new Blob([`LFR - ${item.title}\n\nEste √© um arquivo de demonstra√ß√£o.\nPara download completo, entre em contato:\n\nEmail: loritos.film.hub@gmail.com\nEmail: loritos.film.hub@gmail.com`], { type: 'text/plain' });
    const url = window.URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = `${item.title.replace(/[^a-zA-Z0-9]/g, '_')}_INFO.txt`;
    document.body.appendChild(a);
    a.click();
    document.body.removeChild(a);
    window.URL.revokeObjectURL(url);
  };

  // Cat√°logo comercial realista
  const featuredContent = [
    {
      id: 1,
      title: "Vingadores: Ultimato",
      category: "filme",
      year: 2019,
      duration: "181 min",
      rating: 8.4,
      image: "keys/avengers-endgame?prompt=avengers%20endgame%20movie%20poster%20epic%20heroes",
      description: "A saga final dos Vingadores contra Thanos",
      status: "‚úÖ Dispon√≠vel",
      quality: "4K | 1080p | 720p",
price: "R$ 10,00"
    },
    {
      id: 2,
      title: "Breaking Bad",
      category: "serie",
      year: 2008,
      seasons: 5,
      rating: 9.5,
      image: "keys/breaking-bad?prompt=breaking%20bad%20tv%20series%20poster%20walter%20white",
      description: "Um professor de qu√≠mica se torna produtor de metanfetamina",
      status: "‚úÖ Temporadas Completas",
      quality: "1080p | 720p",
price: "R$ 10,00"
    },
    {
      id: 3,
      title: "Attack on Titan",
      category: "anime",
      year: 2013,
      seasons: 4,
      rating: 9.0,
      image: "keys/attack-titan?prompt=attack%20on%20titan%20anime%20poster%20giants",
      description: "Humanidade vs Tit√£s em uma luta √©pica pela sobreviv√™ncia",
      status: "üî• Legendado + Dublado",
      quality: "1080p | 720p",
price: "R$ 10,00"
    },
    {
      id: 4,
      title: "Spider-Man: No Way Home",
      category: "filme",
      year: 2021,
      duration: "148 min",
      rating: 8.2,
      image: "keys/spiderman-nwh?prompt=spider%20man%20no%20way%20home%20movie%20poster%20multiverse",
      description: "Peter Parker lida com as consequ√™ncias de sua identidade revelada",
      status: "üî• Lan√ßamento",
      quality: "4K | 1080p",
price: "R$ 10,00"
    },
    {
      id: 5,
      title: "One Piece",
      category: "anime",
      year: 1999,
      seasons: 20,
      rating: 9.2,
      image: "keys/one-piece?prompt=one%20piece%20anime%20poster%20luffy%20pirates",
      description: "A jornada de Luffy para se tornar o Rei dos Piratas",
      status: "‚úÖ +1000 Epis√≥dios",
      quality: "1080p | 720p",
price: "R$ 10,00"
    },
    {
      id: 6,
      title: "The Witcher",
      category: "serie",
      year: 2019,
      seasons: 3,
      rating: 8.5,
      image: "keys/witcher?prompt=the%20witcher%20netflix%20series%20poster%20geralt",
      description: "Geralt de Rivia, um ca√ßador de monstros em um mundo de magia",
      status: "‚úÖ Completa",
      quality: "4K | 1080p",
price: "R$ 10,00"
    }
  ];

  const filteredContent = featuredContent.filter(item => 
    selectedCategory === 'todos' || 
    (selectedCategory === 'filmes' && item.category === 'filme') ||
    (selectedCategory === 'series' && item.category === 'serie') ||
    (selectedCategory === 'animes' && item.category === 'anime')
  );

  const ContentCard = ({ item }) => (
    <div className="bg-gray-800 rounded-lg overflow-hidden hover:transform hover:scale-105 transition-all duration-300 cursor-pointer group">
      <div className="relative">
        <img 
          src={item.image} 
          alt={item.title}
          className="w-full h-64 object-cover"
        />
        <div 
          onClick={() => handlePlay(item)}
          className="absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-300 flex items-center justify-center cursor-pointer"
        >
          <Play className="text-white w-16 h-16 opacity-0 group-hover:opacity-100 transition-all duration-300" />
        </div>
        <div className="absolute top-2 right-2 bg-yellow-500 text-black px-2 py-1 rounded-full text-sm font-bold">
          <Star className="inline w-4 h-4 mr-1" />
          {item.rating}
        </div>
        <div className="absolute top-2 left-2 bg-green-600 text-white px-2 py-1 rounded-full text-xs font-bold">
          {item.price}
        </div>
      </div>
      <div className="p-4">
        <h3 className="text-white font-bold text-lg mb-2">{item.title}</h3>
        <div className="flex items-center text-gray-400 text-sm mb-2">
          <Calendar className="w-4 h-4 mr-1" />
          <span className="mr-3">{item.year}</span>
          {item.duration && (
            <>
              <Clock className="w-4 h-4 mr-1" />
              <span>{item.duration}</span>
            </>
          )}
          {item.seasons && (
            <>
              <Users className="w-4 h-4 mr-1" />
              <span>{item.seasons} temporadas</span>
            </>
          )}
        </div>
        <p className="text-gray-300 text-sm mb-2">{item.description}</p>
        <div className="text-green-400 text-xs mb-2 font-semibold">{item.status}</div>
        <div className="text-blue-400 text-xs mb-3">{item.quality}</div>
        <div className="flex space-x-2">
          <button 
            onClick={() => handlePlay(item)}
            className="flex-1 bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-md flex items-center justify-center transition-colors text-sm"
          >
            <Play className="w-4 h-4 mr-1" />
            Preview
          </button>
          <button 
            onClick={() => handleDownload(item)}
            className="flex-1 bg-blue-600 hover:bg-blue-700 text-white px-3 py-2 rounded-md flex items-center justify-center transition-colors text-sm"
          >
            <Download className="w-4 h-4 mr-1" />
            Comprar
          </button>
        </div>
      </div>
    </div>
  );



  const PricingSection = () => (
    <div className="max-w-6xl mx-auto p-6">
      <h2 className="text-3xl font-bold text-white text-center mb-8">üíé Planos</h2>
      <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div className="bg-gray-800 rounded-lg p-6 text-center">
          <h3 className="text-xl font-bold text-white mb-4">üì± Plano √önico</h3>
          <div className="text-3xl font-bold text-blue-400 mb-4">R$ 10,00</div>
          <ul className="text-gray-300 text-left space-y-2 mb-6">
            <li className="flex items-center"><Check className="w-4 h-4 mr-2 text-green-400" /> Acesso completo</li>
            <li className="flex items-center"><Check className="w-4 h-4 mr-2 text-green-400" /> Todos os filmes e s√©ries</li>
            <li className="flex items-center"><Check className="w-4 h-4 mr-2 text-green-400" /> Qualidade HD/4K</li>
            <li className="flex items-center"><Check className="w-4 h-4 mr-2 text-green-400" /> Download ilimitado</li>
            <li className="flex items-center"><Check className="w-4 h-4 mr-2 text-green-400" /> Suporte 24h</li>
          </ul>
          <button className="w-full bg-blue-600 hover:bg-blue-700 text-white py-2 rounded-md">Assinar</button>
        </div>
        
        <div className="bg-gray-800 rounded-lg p-6 text-center">
          <h3 className="text-xl font-bold text-gray-500 mb-4">üì± Outros Planos</h3>
          <div className="text-2xl font-bold text-gray-500 mb-4">Em Breve</div>
          <ul className="text-gray-500 text-left space-y-2 mb-6">
            <li className="flex items-center"><Check className="w-4 h-4 mr-2 text-gray-500" /> Funcionalidades futuras</li>
            <li className="flex items-center"><Check className="w-4 h-4 mr-2 text-gray-500" /> Aguarde novidades</li>
          </ul>
          <button className="w-full bg-gray-600 text-gray-400 py-2 rounded-md cursor-not-allowed" disabled>Em Breve</button>
        </div>
        
        <div className="bg-gray-800 rounded-lg p-6 text-center">
          <h3 className="text-xl font-bold text-gray-500 mb-4">üëë Futuro</h3>
          <div className="text-2xl font-bold text-gray-500 mb-4">Aguarde</div>
          <ul className="text-gray-500 text-left space-y-2 mb-6">
            <li className="flex items-center"><Check className="w-4 h-4 mr-2 text-gray-500" /> Novidades em desenvolvimento</li>
            <li className="flex items-center"><Check className="w-4 h-4 mr-2 text-gray-500" /> Funcionalidades exclusivas</li>
          </ul>
          <button className="w-full bg-gray-600 text-gray-400 py-2 rounded-md cursor-not-allowed" disabled>Em Breve</button>
        </div>
      </div>
    </div>
  );

  return (
    <div className="min-h-screen relative" style={{ backgroundImage: 'url(q2y2b46lgg5P_fXGuQ1EQ)', backgroundSize: 'cover', backgroundPosition: 'center', backgroundAttachment: 'fixed' }}>
      <div className="absolute inset-0 bg-black bg-opacity-80"></div>
      <div className="relative z-10">
        {/* Header */}
        <header className="bg-black bg-opacity-90 backdrop-blur-sm sticky top-0 z-40">
          <div className="max-w-7xl mx-auto px-4 py-4">
            <div className="flex items-center justify-between">
              <div className="flex items-center space-x-4">
                <img 
                  src="KpqoIXTiZuRwSDYTgH3vV" 
                  alt="Filmes Logo" 
                  className="w-20 h-16 rounded"
                />
              </div>
              
              <nav className="hidden md:flex space-x-6">
                <button 
                  onClick={() => setSelectedTab('home')}
                  className={`px-4 py-2 rounded-md transition-colors ${selectedTab === 'home' ? 'bg-red-600 text-white' : 'text-gray-300 hover:text-white'}`}
                >
                  Cat√°logo
                </button>
                <button 
                  onClick={() => setSelectedTab('pricing')}
                  className={`px-4 py-2 rounded-md transition-colors ${selectedTab === 'pricing' ? 'bg-red-600 text-white' : 'text-gray-300 hover:text-white'}`}
                >
                  Planos
                </button>
                <button 
                  onClick={() => setSelectedTab('contact')}
                  className={`px-4 py-2 rounded-md transition-colors ${selectedTab === 'contact' ? 'bg-red-600 text-white' : 'text-gray-300 hover:text-white'}`}
                >
                  Contato
                </button>
              </nav>

              <a 
                href="mailto:loritos.film.hub@gmail.com"
                className="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md transition-colors"
                target="_blank"
                rel="noopener noreferrer"
              >
                ‚úâÔ∏è Email
              </a>
            </div>
          </div>
        </header>

        {/* Main Content */}
        <main className="min-h-screen">
          {selectedTab === 'home' && (
            <>
              {/* Hero Section */}
              <section className="text-center py-20">
                <h2 className="text-4xl font-bold text-white mb-4">üé¨</h2>
                <p className="text-xl text-gray-300 mb-8">A maior cole√ß√£o de filmes, s√©ries e animes em alta qualidade</p>
                <div className="flex justify-center space-x-6 text-sm">
                  <span className="bg-green-600 text-white px-3 py-1 rounded-full">‚úÖ +10.000 t√≠tulos</span>
                  <span className="bg-blue-600 text-white px-3 py-1 rounded-full">üî• Lan√ßamentos di√°rios</span>
                  <span className="bg-yellow-600 text-white px-3 py-1 rounded-full">‚ö° Download r√°pido</span>
                </div>
              </section>

              {/* Categories */}
              <section className="max-w-6xl mx-auto px-4 mb-12">
                <div className="flex justify-center space-x-4 mb-8">
                  {['todos', 'filmes', 'series', 'animes'].map((category) => (
                    <button
                      key={category}
                      onClick={() => setSelectedCategory(category)}
                      className={`px-6 py-3 rounded-full transition-colors capitalize ${
                        selectedCategory === category 
                          ? 'bg-red-600 text-white' 
                          : 'bg-gray-700 text-gray-300 hover:bg-gray-600'
                      }`}
                    >
                      {category}
                    </button>
                  ))}
                </div>

                <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                  {filteredContent.map((item) => (
                    <ContentCard key={item.id} item={item} />
                  ))}
                </div>
              </section>
            </>
          )}

          {selectedTab === 'pricing' && <PricingSection />}

          {selectedTab === 'contact' && (
            <section className="max-w-4xl mx-auto p-6">
              <div className="bg-gray-800 rounded-lg p-8 text-center">
                <h2 className="text-3xl font-bold text-white mb-6">üìû Entre em Contato</h2>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-6">
                  <div className="bg-gray-700 rounded-lg p-6">
                    <h3 className="text-xl font-semibold text-green-400 mb-3">üí¨ Email</h3>
                    <p className="text-white text-lg mb-2">loritos.film.hub@gmail.com</p>
                    <p className="text-gray-300 text-sm">Atendimento 24h</p>
                  </div>
                  <div className="bg-gray-700 rounded-lg p-6">
                    <h3 className="text-xl font-semibold text-blue-400 mb-3">üìß Email</h3>
                    <p className="text-white text-lg mb-2">loritos.film.hub@gmail.com</p>
                    <p className="text-gray-300 text-sm">Resposta em at√© 24h</p>
                  </div>
                </div>
                <div className="bg-gray-700 rounded-lg p-6 mt-6">
                  <h3 className="text-xl font-semibold text-yellow-400 mb-3">üí∞ PIX para Pagamentos</h3>
                  <div className="bg-gray-600 p-4 rounded-md">
                    <p className="text-white font-mono text-lg break-all">
                      1c814ae7-453e-470d-a9b4-9b26f1589d1a
                    </p>
                  </div>
                </div>
              </div>
            </section>
          )}
        </main>


      </div>
    </div>
  );
}
